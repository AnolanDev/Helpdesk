import{u as k,c as C,w as x,b as s,a as y,d as r,l as g,e as U,k as d,g as l,i,f as c,n as u,G as p,o as a,t as n,F as h,y as _,H as V,v as N}from"./app-Dn3LZCF8.js";import{_ as M,a as B}from"./Card-I8oawKJ5.js";const j={class:"mx-auto max-w-3xl space-y-6"},T={class:"flex items-center gap-4"},E={key:0,class:"mt-1 text-sm text-red-600"},S={class:"grid gap-6 sm:grid-cols-2"},q={key:0,class:"mt-1 text-sm text-red-600"},z={key:0,class:"mt-1 text-sm text-red-600"},D={key:0,class:"mt-1 text-sm text-red-600"},F={key:0,class:"mt-1 text-sm text-red-600"},G=["disabled"],H=["value"],O={key:0,class:"mt-1 text-sm text-red-600"},$={key:1,class:"mt-1 text-xs text-secondary-500"},A={class:"flex items-center pt-7"},L={class:"border-t border-secondary-200 pt-6"},R={class:"space-y-4"},I={key:0,class:"mt-1 text-sm text-red-600"},J={class:"flex items-center justify-end gap-3 border-t border-secondary-200 pt-6"},K=["disabled"],P={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},X={__name:"Edit",props:{user:Object,tiposUsuario:Object,canChangeTipoUsuario:Boolean},setup(b){const m=b,o=k({name:m.user.name,email:m.user.email,password:"",password_confirmation:"",mobile:m.user.mobile||"",sucursal:m.user.sucursal||"",empresa:m.user.empresa||"",tipo_usuario:m.user.tipo_usuario,is_active:m.user.is_active}),v=()=>{o.put(route("users.update",m.user.id))};return(f,e)=>(a(),C(B,null,{default:x(()=>[s("div",j,[s("div",T,[y(r(g),{href:f.route("users.index"),class:"rounded-lg p-2 text-secondary-600 transition-colors hover:bg-secondary-100 hover:text-secondary-900"},{default:x(()=>[...e[9]||(e[9]=[s("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),e[10]||(e[10]=s("div",null,[s("h1",{class:"text-2xl font-bold text-secondary-900"},"Editar Usuario"),s("p",{class:"mt-1 text-sm text-secondary-600"}," Modifica la información del usuario ")],-1))]),y(M,{variant:"elevated"},{default:x(()=>[s("form",{onSubmit:U(v,["prevent"]),class:"space-y-6"},[s("div",null,[e[11]||(e[11]=s("label",{for:"name",class:"block text-sm font-medium text-secondary-700"},[c(" Nombre Completo "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>r(o).name=t),type:"text",required:"",placeholder:"Nombre completo del usuario",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",{"border-red-500":r(o).errors.name}])},null,2),[[p,r(o).name]]),r(o).errors.name?(a(),l("p",E,n(r(o).errors.name),1)):i("",!0)]),s("div",S,[s("div",null,[e[12]||(e[12]=s("label",{for:"email",class:"block text-sm font-medium text-secondary-700"},[c(" Email "),s("span",{class:"text-red-500"},"*")],-1)),d(s("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>r(o).email=t),type:"email",required:"",placeholder:"usuario@ejemplo.com",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",{"border-red-500":r(o).errors.email}])},null,2),[[p,r(o).email]]),r(o).errors.email?(a(),l("p",q,n(r(o).errors.email),1)):i("",!0)]),s("div",null,[e[13]||(e[13]=s("label",{for:"mobile",class:"block text-sm font-medium text-secondary-700"}," Celular ",-1)),d(s("input",{id:"mobile","onUpdate:modelValue":e[2]||(e[2]=t=>r(o).mobile=t),type:"text",placeholder:"3001234567",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",{"border-red-500":r(o).errors.mobile}])},null,2),[[p,r(o).mobile]]),r(o).errors.mobile?(a(),l("p",z,n(r(o).errors.mobile),1)):i("",!0)]),s("div",null,[e[14]||(e[14]=s("label",{for:"empresa",class:"block text-sm font-medium text-secondary-700"}," Empresa ",-1)),d(s("input",{id:"empresa","onUpdate:modelValue":e[3]||(e[3]=t=>r(o).empresa=t),type:"text",placeholder:"Nombre de la empresa",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",{"border-red-500":r(o).errors.empresa}])},null,2),[[p,r(o).empresa]]),r(o).errors.empresa?(a(),l("p",D,n(r(o).errors.empresa),1)):i("",!0)]),s("div",null,[e[15]||(e[15]=s("label",{for:"sucursal",class:"block text-sm font-medium text-secondary-700"}," Sucursal ",-1)),d(s("input",{id:"sucursal","onUpdate:modelValue":e[4]||(e[4]=t=>r(o).sucursal=t),type:"text",placeholder:"Nombre de la sucursal",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",{"border-red-500":r(o).errors.sucursal}])},null,2),[[p,r(o).sucursal]]),r(o).errors.sucursal?(a(),l("p",F,n(r(o).errors.sucursal),1)):i("",!0)]),s("div",null,[e[17]||(e[17]=s("label",{for:"tipo_usuario",class:"block text-sm font-medium text-secondary-700"},[c(" Tipo de Usuario "),s("span",{class:"text-red-500"},"*")],-1)),d(s("select",{id:"tipo_usuario","onUpdate:modelValue":e[5]||(e[5]=t=>r(o).tipo_usuario=t),required:"",disabled:!b.canChangeTipoUsuario,class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm disabled:bg-secondary-50 disabled:text-secondary-500",{"border-red-500":r(o).errors.tipo_usuario}])},[e[16]||(e[16]=s("option",{value:""},"Seleccionar...",-1)),(a(!0),l(h,null,_(b.tiposUsuario,(t,w)=>(a(),l("option",{key:w,value:w},n(t),9,H))),128))],10,G),[[V,r(o).tipo_usuario]]),r(o).errors.tipo_usuario?(a(),l("p",O,n(r(o).errors.tipo_usuario),1)):i("",!0),b.canChangeTipoUsuario?i("",!0):(a(),l("p",$," No puedes cambiar tu propio tipo de usuario "))]),s("div",A,[d(s("input",{id:"is_active","onUpdate:modelValue":e[6]||(e[6]=t=>r(o).is_active=t),type:"checkbox",class:"h-4 w-4 rounded border-secondary-300 text-primary-600 focus:ring-primary-500"},null,512),[[N,r(o).is_active]]),e[18]||(e[18]=s("label",{for:"is_active",class:"ml-2 block text-sm text-secondary-700"}," Usuario activo ",-1))])]),s("div",L,[e[21]||(e[21]=s("h3",{class:"text-base font-semibold text-secondary-900 mb-4"},"Cambiar Contraseña (opcional)",-1)),e[22]||(e[22]=s("p",{class:"text-sm text-secondary-600 mb-4"}," Deja en blanco si no deseas cambiar la contraseña ",-1)),s("div",R,[s("div",null,[e[19]||(e[19]=s("label",{for:"password",class:"block text-sm font-medium text-secondary-700"}," Nueva Contraseña ",-1)),d(s("input",{id:"password","onUpdate:modelValue":e[7]||(e[7]=t=>r(o).password=t),type:"password",placeholder:"Mínimo 8 caracteres",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",{"border-red-500":r(o).errors.password}])},null,2),[[p,r(o).password]]),r(o).errors.password?(a(),l("p",I,n(r(o).errors.password),1)):i("",!0)]),s("div",null,[e[20]||(e[20]=s("label",{for:"password_confirmation",class:"block text-sm font-medium text-secondary-700"}," Confirmar Nueva Contraseña ",-1)),d(s("input",{id:"password_confirmation","onUpdate:modelValue":e[8]||(e[8]=t=>r(o).password_confirmation=t),type:"password",placeholder:"Repite la contraseña",class:"mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[p,r(o).password_confirmation]])])])]),s("div",J,[y(r(g),{href:f.route("users.index"),class:"rounded-lg border border-secondary-300 bg-white px-4 py-2.5 text-sm font-semibold text-secondary-700 shadow-sm hover:bg-secondary-50"},{default:x(()=>[...e[23]||(e[23]=[c(" Cancelar ",-1)])]),_:1},8,["href"]),s("button",{type:"submit",disabled:r(o).processing,class:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 disabled:opacity-50"},[r(o).processing?(a(),l("svg",P,[...e[24]||(e[24]=[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):i("",!0),c(" "+n(r(o).processing?"Guardando...":"Guardar Cambios"),1)],8,K)])],32)]),_:1})])]),_:1}))}};export{X as default};
