import{u as S,j,B,c as U,w as g,b as e,a as k,d as t,l as w,e as q,k as n,g as a,i as d,f as m,n as u,G as v,o as l,t as i,F as y,y as b,H as x}from"./app-BwGfc4Ut.js";import{_ as M,a as z}from"./Card-CFWGq5vn.js";const D={class:"mx-auto max-w-3xl space-y-6"},E={class:"flex items-center gap-4"},T={key:0,class:"mt-1 text-sm text-red-600"},_={key:0,class:"mt-1 text-sm text-red-600"},H={class:"grid gap-6 sm:grid-cols-2"},N=["value"],A={key:0,class:"mt-1 text-sm text-red-600"},O=["disabled"],P={value:""},F=["value"],R={key:0,class:"mt-1 text-sm text-red-600"},I=["value"],$={key:0,class:"mt-1 text-sm text-red-600"},G=["value"],L={key:0,class:"mt-1 text-sm text-red-600"},J={key:0,class:"mt-1 text-sm text-red-600"},K={key:0,class:"mt-1 text-sm text-red-600"},Q={class:"sm:col-span-2"},W=["value"],X={key:0,class:"mt-1 text-sm text-red-600"},Y={class:"flex items-center justify-end gap-3 border-t border-secondary-200 pt-6"},Z=["disabled"],ee={key:0,class:"h-4 w-4 animate-spin",fill:"none",viewBox:"0 0 24 24"},te={__name:"Create",props:{priorities:Object,categories:Object,users:Array,empresas:Array,sucursalesByEmpresa:Object},setup(c){const C=c,s=S({title:"",description:"",priority:"normal",category:"",location:"",department:"",empresa:"",sucursal:"",assigned_to:""}),V=j(()=>s.empresa?C.sucursalesByEmpresa[s.empresa]||[]:[]);B(()=>s.empresa,(f,r)=>{f!==r&&(s.sucursal="")});const h=()=>{s.post(route("tickets.store"),{onSuccess:()=>{}})};return(f,r)=>(l(),U(z,null,{default:g(()=>[e("div",D,[e("div",E,[k(t(w),{href:f.route("tickets.index"),class:"rounded-lg p-2 text-secondary-600 transition-colors hover:bg-secondary-100 hover:text-secondary-900"},{default:g(()=>[...r[9]||(r[9]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})],-1)])]),_:1},8,["href"]),r[10]||(r[10]=e("div",null,[e("h1",{class:"text-2xl font-bold text-secondary-900"},"Crear Nuevo Ticket"),e("p",{class:"mt-1 text-sm text-secondary-600"}," Reporta un problema o solicita asistencia técnica ")],-1))]),k(M,{variant:"elevated"},{default:g(()=>[e("form",{onSubmit:q(h,["prevent"]),class:"space-y-6"},[e("div",null,[r[11]||(r[11]=e("label",{for:"title",class:"block text-sm font-medium text-secondary-700"},[m(" Título "),e("span",{class:"text-red-500"},"*")],-1)),n(e("input",{id:"title","onUpdate:modelValue":r[0]||(r[0]=o=>t(s).title=o),type:"text",required:"",placeholder:"Describe brevemente el problema",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.title}])},null,2),[[v,t(s).title]]),t(s).errors.title?(l(),a("p",T,i(t(s).errors.title),1)):d("",!0)]),e("div",null,[r[12]||(r[12]=e("label",{for:"description",class:"block text-sm font-medium text-secondary-700"},[m(" Descripción "),e("span",{class:"text-red-500"},"*")],-1)),n(e("textarea",{id:"description","onUpdate:modelValue":r[1]||(r[1]=o=>t(s).description=o),required:"",rows:"6",placeholder:"Proporciona todos los detalles relevantes del problema...",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.description}])},null,2),[[v,t(s).description]]),t(s).errors.description?(l(),a("p",_,i(t(s).errors.description),1)):d("",!0)]),e("div",H,[e("div",null,[r[14]||(r[14]=e("label",{for:"empresa",class:"block text-sm font-medium text-secondary-700"},[m(" Empresa "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{id:"empresa","onUpdate:modelValue":r[2]||(r[2]=o=>t(s).empresa=o),required:"",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.empresa}])},[r[13]||(r[13]=e("option",{value:""},"Seleccionar empresa...",-1)),(l(!0),a(y,null,b(c.empresas,o=>(l(),a("option",{key:o,value:o},i(o),9,N))),128))],2),[[x,t(s).empresa]]),t(s).errors.empresa?(l(),a("p",A,i(t(s).errors.empresa),1)):d("",!0)]),e("div",null,[r[15]||(r[15]=e("label",{for:"sucursal",class:"block text-sm font-medium text-secondary-700"},[m(" Sucursal "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{id:"sucursal","onUpdate:modelValue":r[3]||(r[3]=o=>t(s).sucursal=o),required:"",disabled:!t(s).empresa,class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm disabled:bg-secondary-100 disabled:cursor-not-allowed",{"border-red-500":t(s).errors.sucursal}])},[e("option",P,i(t(s).empresa?"Seleccionar sucursal...":"Primero seleccione una empresa"),1),(l(!0),a(y,null,b(V.value,o=>(l(),a("option",{key:o,value:o},i(o),9,F))),128))],10,O),[[x,t(s).sucursal]]),t(s).errors.sucursal?(l(),a("p",R,i(t(s).errors.sucursal),1)):d("",!0)]),e("div",null,[r[17]||(r[17]=e("label",{for:"priority",class:"block text-sm font-medium text-secondary-700"},[m(" Prioridad "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{id:"priority","onUpdate:modelValue":r[4]||(r[4]=o=>t(s).priority=o),required:"",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.priority}])},[r[16]||(r[16]=e("option",{value:""},"Seleccionar...",-1)),(l(!0),a(y,null,b(c.priorities,(o,p)=>(l(),a("option",{key:p,value:p},i(o),9,I))),128))],2),[[x,t(s).priority]]),t(s).errors.priority?(l(),a("p",$,i(t(s).errors.priority),1)):d("",!0)]),e("div",null,[r[19]||(r[19]=e("label",{for:"category",class:"block text-sm font-medium text-secondary-700"},[m(" Categoría "),e("span",{class:"text-red-500"},"*")],-1)),n(e("select",{id:"category","onUpdate:modelValue":r[5]||(r[5]=o=>t(s).category=o),required:"",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.category}])},[r[18]||(r[18]=e("option",{value:""},"Seleccionar...",-1)),(l(!0),a(y,null,b(c.categories,(o,p)=>(l(),a("option",{key:p,value:p},i(o),9,G))),128))],2),[[x,t(s).category]]),t(s).errors.category?(l(),a("p",L,i(t(s).errors.category),1)):d("",!0)]),e("div",null,[r[20]||(r[20]=e("label",{for:"location",class:"block text-sm font-medium text-secondary-700"}," Ubicación ",-1)),n(e("input",{id:"location","onUpdate:modelValue":r[6]||(r[6]=o=>t(s).location=o),type:"text",placeholder:"Ej: Piso 3, Oficina 301",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.location}])},null,2),[[v,t(s).location]]),t(s).errors.location?(l(),a("p",J,i(t(s).errors.location),1)):d("",!0)]),e("div",null,[r[21]||(r[21]=e("label",{for:"department",class:"block text-sm font-medium text-secondary-700"}," Departamento ",-1)),n(e("input",{id:"department","onUpdate:modelValue":r[7]||(r[7]=o=>t(s).department=o),type:"text",placeholder:"Ej: IT, RRHH, Ventas",class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.department}])},null,2),[[v,t(s).department]]),t(s).errors.department?(l(),a("p",K,i(t(s).errors.department),1)):d("",!0)]),e("div",Q,[r[23]||(r[23]=e("label",{for:"assigned_to",class:"block text-sm font-medium text-secondary-700"}," Asignar a (opcional) ",-1)),n(e("select",{id:"assigned_to","onUpdate:modelValue":r[8]||(r[8]=o=>t(s).assigned_to=o),class:u(["mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 text-base md:text-sm",{"border-red-500":t(s).errors.assigned_to}])},[r[22]||(r[22]=e("option",{value:""},"Sin asignar",-1)),(l(!0),a(y,null,b(c.users,o=>(l(),a("option",{key:o.id,value:o.id},i(o.name),9,W))),128))],2),[[x,t(s).assigned_to]]),t(s).errors.assigned_to?(l(),a("p",X,i(t(s).errors.assigned_to),1)):d("",!0)])]),r[26]||(r[26]=e("div",{class:"rounded-lg bg-primary-50 p-4"},[e("div",{class:"flex"},[e("div",{class:"flex-shrink-0"},[e("svg",{class:"h-5 w-5 text-primary-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})])]),e("div",{class:"ml-3"},[e("h3",{class:"text-sm font-medium text-primary-800"},"Consejos para crear un buen ticket"),e("div",{class:"mt-2 text-sm text-primary-700"},[e("ul",{class:"list-disc space-y-1 pl-5"},[e("li",null,"Sé específico en el título"),e("li",null,"Describe el problema con el mayor detalle posible"),e("li",null,"Incluye pasos para reproducir el problema si aplica"),e("li",null,"Menciona cualquier mensaje de error que hayas recibido")])])])])],-1)),e("div",Y,[k(t(w),{href:f.route("tickets.index"),class:"rounded-lg border border-secondary-300 bg-white px-4 py-2.5 text-sm font-semibold text-secondary-700 shadow-sm hover:bg-secondary-50 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"},{default:g(()=>[...r[24]||(r[24]=[m(" Cancelar ",-1)])]),_:1},8,["href"]),e("button",{type:"submit",disabled:t(s).processing,class:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50"},[t(s).processing?(l(),a("svg",ee,[...r[25]||(r[25]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):d("",!0),m(" "+i(t(s).processing?"Creando...":"Crear Ticket"),1)],8,Z)])],32)]),_:1})])]),_:1}))}};export{te as default};
