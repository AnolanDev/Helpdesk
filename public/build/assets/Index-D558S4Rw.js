import{I as j,B,z as g,c as w,w as c,b as e,a as u,d as y,l as f,f as k,k as v,G as V,g as r,o,F as b,y as h,t as a,H as T,i as n,n as _,K as M}from"./app-9F6w0vLJ.js";import{_ as U,a as N}from"./Card-DyAlLTYA.js";const S={class:"space-y-6"},A={class:"flex items-center justify-between"},F={class:"space-y-4"},H={class:"grid gap-4 sm:grid-cols-3"},I=["value"],L={class:"overflow-x-auto"},$={class:"min-w-full divide-y divide-secondary-200"},D={class:"divide-y divide-secondary-200 bg-white"},O={class:"whitespace-nowrap px-6 py-4"},z={class:"text-sm font-medium text-secondary-900"},G={key:0,class:"text-sm text-secondary-500"},K={class:"whitespace-nowrap px-6 py-4"},q={class:"text-sm text-secondary-900"},J={key:0,class:"text-sm text-secondary-500"},P={class:"whitespace-nowrap px-6 py-4"},Q={key:0,class:"text-sm text-secondary-900"},R={key:1,class:"text-sm text-secondary-500"},W={key:2,class:"text-sm text-secondary-400"},X={class:"whitespace-nowrap px-6 py-4"},Y={class:"whitespace-nowrap px-6 py-4"},Z={class:"whitespace-nowrap px-6 py-4 text-right text-sm font-medium"},ee={class:"flex items-center justify-end gap-2"},te=["onClick"],se={key:0,class:"border-t border-secondary-200 px-6 py-4"},oe={class:"flex items-center justify-between"},ae={class:"text-sm text-secondary-700"},re={class:"flex gap-1"},de={__name:"Index",props:{users:Object,filters:Object,tiposUsuario:Object},setup(l){const p=l,i=j({search:p.filters.search||"",tipo_usuario:p.filters.tipo_usuario||"",is_active:p.filters.is_active||""});let m=null;B(i,d=>{m&&clearTimeout(m),m=setTimeout(()=>{g.get(route("users.index"),d,{preserveState:!0,preserveScroll:!0,only:["users"]})},500)});const C=()=>{i.search="",i.tipo_usuario="",i.is_active=""},E=d=>{confirm(`¿Estás seguro de eliminar al usuario "${d.name}"?`)&&g.delete(route("users.destroy",d.id))};return(d,s)=>(o(),w(N,null,{default:c(()=>[e("div",S,[e("div",A,[s[4]||(s[4]=e("div",null,[e("h1",{class:"text-2xl font-bold text-secondary-900"},"Gestión de Usuarios"),e("p",{class:"mt-1 text-sm text-secondary-600"}," Administra los usuarios del sistema ")],-1)),u(y(f),{href:d.route("users.create"),class:"inline-flex items-center gap-2 rounded-lg bg-primary-600 px-4 py-2.5 text-sm font-semibold text-white shadow-sm hover:bg-primary-700"},{default:c(()=>[...s[3]||(s[3]=[e("svg",{class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),k(" Nuevo Usuario ",-1)])]),_:1},8,["href"])]),u(U,{variant:"elevated"},{default:c(()=>[e("div",F,[e("div",H,[e("div",null,[s[5]||(s[5]=e("label",{for:"search",class:"block text-sm font-medium text-secondary-700"}," Buscar ",-1)),v(e("input",{id:"search","onUpdate:modelValue":s[0]||(s[0]=t=>i.search=t),type:"text",placeholder:"Nombre, email, celular...",class:"mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},null,512),[[V,i.search]])]),e("div",null,[s[7]||(s[7]=e("label",{for:"tipo_usuario",class:"block text-sm font-medium text-secondary-700"}," Tipo de Usuario ",-1)),v(e("select",{id:"tipo_usuario","onUpdate:modelValue":s[1]||(s[1]=t=>i.tipo_usuario=t),class:"mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},[s[6]||(s[6]=e("option",{value:""},"Todos",-1)),(o(!0),r(b,null,h(l.tiposUsuario,(t,x)=>(o(),r("option",{key:x,value:x},a(t),9,I))),128))],512),[[T,i.tipo_usuario]])]),e("div",null,[s[9]||(s[9]=e("label",{for:"is_active",class:"block text-sm font-medium text-secondary-700"}," Estado ",-1)),v(e("select",{id:"is_active","onUpdate:modelValue":s[2]||(s[2]=t=>i.is_active=t),class:"mt-1 block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm"},[...s[8]||(s[8]=[e("option",{value:""},"Todos",-1),e("option",{value:"true"},"Activos",-1),e("option",{value:"false"},"Inactivos",-1)])],512),[[T,i.is_active]])])]),e("div",{class:"flex gap-2"},[e("button",{type:"button",onClick:C,class:"rounded-lg border border-secondary-300 bg-white px-4 py-2 text-sm font-semibold text-secondary-700 hover:bg-secondary-50"}," Limpiar Filtros ")])])]),_:1}),u(U,{variant:"elevated"},{default:c(()=>[e("div",L,[e("table",$,[s[11]||(s[11]=e("thead",{class:"bg-secondary-50"},[e("tr",null,[e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-secondary-700"}," Usuario "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-secondary-700"}," Email / Celular "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-secondary-700"}," Empresa / Sucursal "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-secondary-700"}," Tipo "),e("th",{class:"px-6 py-3 text-left text-xs font-medium uppercase tracking-wider text-secondary-700"}," Estado "),e("th",{class:"px-6 py-3 text-right text-xs font-medium uppercase tracking-wider text-secondary-700"}," Acciones ")])],-1)),e("tbody",D,[(o(!0),r(b,null,h(l.users.data,t=>(o(),r("tr",{key:t.id,class:"hover:bg-secondary-50"},[e("td",O,[e("div",z,a(t.name),1),t.username?(o(),r("div",G,"@"+a(t.username),1)):n("",!0)]),e("td",K,[e("div",q,a(t.email),1),t.mobile?(o(),r("div",J,a(t.mobile),1)):n("",!0)]),e("td",P,[t.empresa?(o(),r("div",Q,a(t.empresa),1)):n("",!0),t.sucursal?(o(),r("div",R,a(t.sucursal),1)):n("",!0),!t.empresa&&!t.sucursal?(o(),r("span",W,"-")):n("",!0)]),e("td",X,[e("span",{class:_(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",{"bg-purple-100 text-purple-800":t.tipo_usuario==="admin","bg-blue-100 text-blue-800":t.tipo_usuario==="tech","bg-gray-100 text-gray-800":t.tipo_usuario==="usuario_final"}])},a(l.tiposUsuario[t.tipo_usuario]),3)]),e("td",Y,[e("span",{class:_(["inline-flex rounded-full px-2 py-1 text-xs font-semibold",{"bg-green-100 text-green-800":t.is_active,"bg-red-100 text-red-800":!t.is_active}])},a(t.is_active?"Activo":"Inactivo"),3)]),e("td",Z,[e("div",ee,[u(y(f),{href:d.route("users.edit",t.id),class:"text-primary-600 hover:text-primary-900"},{default:c(()=>[...s[10]||(s[10]=[k(" Editar ",-1)])]),_:1},8,["href"]),e("button",{onClick:x=>E(t),class:"text-red-600 hover:text-red-900"}," Eliminar ",8,te)])])]))),128))])])]),l.users.links.length>3?(o(),r("div",se,[e("div",oe,[e("div",ae," Mostrando "+a(l.users.from)+" - "+a(l.users.to)+" de "+a(l.users.total)+" usuarios ",1),e("div",re,[(o(!0),r(b,null,h(l.users.links,t=>(o(),w(M(t.url?y(f):"span"),{key:t.label,href:t.url,class:_(["px-3 py-1 text-sm rounded",t.active?"bg-primary-600 text-white":"bg-white text-secondary-700 border border-secondary-300",t.url?"hover:bg-secondary-50":"opacity-50 cursor-not-allowed"]),innerHTML:t.label},null,8,["href","class","innerHTML"]))),128))])])])):n("",!0)]),_:1})])]),_:1}))}};export{de as default};
