import{H as C,q as S,s as j,j as M,c as g,w as d,b as e,i as p,a as B,o as n,e as V,g as u,F as $,y as L,t as l,k as z,I as A,z as h}from"./app-CwphhH4z.js";import{_ as v,a as N}from"./Card-BHXf-p3L.js";const D={class:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8"},O={class:"space-y-6"},q={class:"flex items-center justify-between"},E={class:"flex items-center gap-2"},H={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},I=["for"],U={class:"mt-1 relative"},F=["id","onUpdate:modelValue","type"],G={class:"absolute right-3 top-2 text-sm text-secondary-500"},T={key:0,class:"mt-1 text-sm text-secondary-500"},J={key:1,class:"mt-1 text-xs text-secondary-400"},P={class:"flex justify-end gap-3 border-t border-secondary-200 pt-4"},R=["disabled"],K={class:"space-y-4"},Q={class:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-4"},W={class:"rounded-lg border-2 border-red-200 bg-red-50 p-4"},X={class:"flex items-center gap-2"},Y={class:"text-2xl font-bold text-red-600"},Z={class:"text-xs text-red-700"},ee={class:"rounded-lg border-2 border-orange-200 bg-orange-50 p-4"},se={class:"flex items-center gap-2"},te={class:"text-2xl font-bold text-orange-600"},oe={class:"text-xs text-orange-700"},re={class:"rounded-lg border-2 border-blue-200 bg-blue-50 p-4"},le={class:"flex items-center gap-2"},ne={class:"text-2xl font-bold text-blue-600"},ae={class:"text-xs text-blue-700"},de={class:"rounded-lg border-2 border-gray-200 bg-gray-50 p-4"},ie={class:"flex items-center gap-2"},ce={class:"text-2xl font-bold text-gray-600"},ue={class:"text-xs text-gray-700"},me={class:"rounded-lg border border-yellow-200 bg-yellow-50 p-4"},pe={class:"flex items-center gap-2"},xe={class:"flex-1"},ge={class:"text-xs text-yellow-700"},fe={__name:"Index",props:{settings:Object},setup(m){const x=m,t=C({}),i=S({});j(()=>{x.settings.sla&&x.settings.sla.forEach(r=>{t[r.key]=r.value}),i.value={...t}});const f=M(()=>JSON.stringify(t)!==JSON.stringify(i.value)),b=r=>r==="integer"||r==="float"?"number":"text",y=r=>r.includes("hours")?"horas":"",a=r=>{const s=parseInt(r)||0;if(s<24)return`${s} horas`;const o=Math.floor(s/24),c=s%24;return c===0?`${o} ${o===1?"día":"días"}`:`${o} ${o===1?"día":"días"} y ${c}h`},_=()=>{const r=Object.keys(t).map(s=>({key:s,value:t[s]}));h.post(route("settings.update"),{settings:r},{preserveScroll:!0,onSuccess:()=>{i.value={...t}}})},w=()=>{Object.assign(t,i.value)},k=r=>{confirm("¿Estás seguro de que deseas restablecer las configuraciones de SLA a sus valores por defecto?")&&h.post(route("settings.reset"),{group:r},{preserveScroll:!0,onSuccess:()=>{window.location.reload()}})};return(r,s)=>(n(),g(N,{title:"Configuración del Sistema"},{default:d(()=>[e("div",D,[s[13]||(s[13]=e("div",{class:"mb-6"},[e("h1",{class:"text-3xl font-bold text-secondary-900"},"Configuración del Sistema"),e("p",{class:"mt-2 text-sm text-secondary-600"}," Gestiona los parámetros del sistema de tickets y tiempos de SLA ")],-1)),e("div",O,[m.settings.sla?(n(),g(v,{key:0,variant:"elevated"},{header:d(()=>[e("div",q,[s[1]||(s[1]=e("div",null,[e("h2",{class:"text-xl font-semibold text-secondary-900"},"Configuración de SLA"),e("p",{class:"mt-1 text-sm text-secondary-600"}," Define los tiempos máximos de resolución según la prioridad del ticket ")],-1)),e("div",E,[e("button",{onClick:s[0]||(s[0]=o=>k("sla")),class:"rounded-lg border border-secondary-300 bg-white px-4 py-2 text-sm font-medium text-secondary-700 hover:bg-secondary-50 transition-colors"}," Restablecer ")])])]),default:d(()=>[e("form",{onSubmit:V(_,["prevent"]),class:"space-y-6"},[e("div",H,[(n(!0),u($,null,L(m.settings.sla,o=>(n(),u("div",{key:o.id},[e("label",{for:o.key,class:"block text-sm font-medium text-secondary-700"},l(o.label),9,I),e("div",U,[z(e("input",{id:o.key,"onUpdate:modelValue":c=>t[o.key]=c,type:b(o.type),class:"block w-full rounded-lg border-secondary-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 sm:text-sm",required:!0},null,8,F),[[A,t[o.key]]]),e("span",G,l(y(o.key)),1)]),o.description?(n(),u("p",T,l(o.description),1)):p("",!0),o.type==="integer"&&o.key.includes("hours")?(n(),u("p",J," Equivalente: "+l(a(t[o.key])),1)):p("",!0)]))),128))]),e("div",P,[e("button",{type:"button",onClick:w,class:"rounded-lg border border-secondary-300 bg-white px-4 py-2 text-sm font-medium text-secondary-700 hover:bg-secondary-50 transition-colors"}," Cancelar "),e("button",{type:"submit",disabled:!f.value,class:"rounded-lg bg-primary-600 px-4 py-2 text-sm font-medium text-white hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"}," Guardar Cambios ",8,R)])],32)]),_:1})):p("",!0),B(v,{variant:"elevated"},{header:d(()=>[...s[2]||(s[2]=[e("h2",{class:"text-xl font-semibold text-secondary-900"},"Vista Previa de Tiempos SLA",-1)])]),default:d(()=>[e("div",K,[e("div",Q,[e("div",W,[e("div",X,[s[4]||(s[4]=e("div",{class:"rounded-full bg-red-600 p-2"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})])],-1)),e("div",null,[s[3]||(s[3]=e("p",{class:"text-sm font-medium text-red-900"},"Urgente",-1)),e("p",Y,l(t.sla_urgent_hours||0)+"h",1),e("p",Z,l(a(t.sla_urgent_hours)),1)])])]),e("div",ee,[e("div",se,[s[6]||(s[6]=e("div",{class:"rounded-full bg-orange-600 p-2"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})])],-1)),e("div",null,[s[5]||(s[5]=e("p",{class:"text-sm font-medium text-orange-900"},"Alta",-1)),e("p",te,l(t.sla_high_hours||0)+"h",1),e("p",oe,l(a(t.sla_high_hours)),1)])])]),e("div",re,[e("div",le,[s[8]||(s[8]=e("div",{class:"rounded-full bg-blue-600 p-2"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),e("div",null,[s[7]||(s[7]=e("p",{class:"text-sm font-medium text-blue-900"},"Normal",-1)),e("p",ne,l(t.sla_normal_hours||0)+"h",1),e("p",ae,l(a(t.sla_normal_hours)),1)])])]),e("div",de,[e("div",ie,[s[10]||(s[10]=e("div",{class:"rounded-full bg-gray-600 p-2"},[e("svg",{class:"h-5 w-5 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 14l-7 7m0 0l-7-7m7 7V3"})])],-1)),e("div",null,[s[9]||(s[9]=e("p",{class:"text-sm font-medium text-gray-900"},"Baja",-1)),e("p",ce,l(t.sla_low_hours||0)+"h",1),e("p",ue,l(a(t.sla_low_hours)),1)])])])]),e("div",me,[e("div",pe,[s[12]||(s[12]=e("svg",{class:"h-5 w-5 text-yellow-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})],-1)),e("div",xe,[s[11]||(s[11]=e("p",{class:"text-sm font-medium text-yellow-900"},"Advertencia de Vencimiento",-1)),e("p",ge,"Se mostrará un badge amarillo cuando falten "+l(t.sla_warning_hours||24)+" horas o menos para el vencimiento",1)])])])])]),_:1})])])]),_:1}))}};export{fe as default};
